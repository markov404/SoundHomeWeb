
{% extends 'common_app/index.html' %}

{% block haeders %}

    {{ block.super }}

    {% block title %}
    <title>SH Profile</title>
    {% endblock title %}

    {% block media %}
    {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}">   
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">   
    {% endblock media %}

{% endblock haeders %}

{% block body %}
    {% block navbar %}
        {{ block.super }}
    {% endblock navbar %}

    {% block content %}

    {% load static %}    

    <div class="container ProfileWrapper">
      <div class="row">
        <div class="col-lg-4 col-md-12 mb-4 mb-lg-0">
          <label for="chng_image_btn">
          <img
            src="{{ image }}"
            class="w-100 shadow-1-strong rounded mb-4 Activity"
            alt="Boat on Calm Water"
          />
          </label>
          <button type="button" id="chng_image_btn" class="btn btn-link" data-bs-toggle="modal" data-bs-target="#chng_ava_modal"></button>

          
          <div class="cont">
            <label for="chng_nickname_btn">
            <img
              src="{% static 'images/nickname.jpg' %}"
              class="w-100 shadow-1-strong rounded mb-4 Texted text-center Activity"
              alt="Wintry Mountain Landscape"
              id="my_name_is"
            >
            </label>
            <button type="button" id="chng_nickname_btn" class="btn btn-link" data-bs-toggle="modal" data-bs-target="#chng_nickname_modal"></button>
            <div class='centered' id="ncm">
              {{ nickname }}
            </div>
          </div>
        </div>
      
        <div class="col-lg-4 mb-4 mb-lg-0">
          <img
            src="{% static 'images/rst-warn-v2.svg' %}"
            class="w-100 shadow-1-strong rounded mb-4"
            alt="Mountains in the Clouds"
          />
          
          <a href="{% url 'logout_view' %}">
          <img
            src="{% static 'images/logout.svg' %}"
            class="w-100 shadow-1-strong rounded mb-4 Activity"
            alt="Boat on Calm Water"
          />
          </a>
        </div>
      
        <div class="col-lg-4 mb-4 mb-lg-0">
          <div class="cont2">
          <label for="mk_rvw_btn">
          <img
            src="{% static 'images/empty-list.png' %}"
            class="w-100 shadow-1-strong rounded mb-4 ActivityHigh"
            alt="Waves at Sea"
            id="for_oval"
          />
          </label>
          <button type="button" id="mk_rvw_btn" class="btn btn-link" data-bs-toggle="modal" data-bs-target="#mkrvw_modal"/>
          <div id="oval">
          </div>
          </div>

          <img
            src="{% static 'images/friends.jpg' %}"
            class="w-100 shadow-1-strong rounded mb-4 Activity"
            alt="Yosemite National Park"
            id="frnd"
          />
        </div>
      </div>
    </div>

      {% block profile_modal_parts %}


        <div class="modal fade" id="chng_ava_modal" tabindex="-1" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header text-center">
                <h4 class="modal-title w-100 font-weight-bold">Change AVA ;)</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <form action="{% url 'chng_usr_image' %}" method="post">
                <div id="csrf_wrapper_form_chng_image">
                  {% csrf_token %}
                </div>
                <div class="modal-body mx-3">
                  <div class="md-form">
                    <i class="fa-solid fa-image"></i>
                    <div class="user_img_wrapper text-center mt-2 mb-3"> 
                    <label for="user_image" id="alb_cov_label" class="ActivityHigh">
                      <img src="{% static 'images/ava-def.img' %}" id="usr_ava" />
                    </label>
                    </div>
                    <input type="file" accept="image/png, image/gif, image/jpeg" id="user_image" onchange="load_file_chng_ava(event, 'usr_ava')" name="user_image" style="display:none" required>
                    <label data-error="wrong" data-success="right" for="alb_cov_label">Your New Ava</label>
                  </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                  <button class="btn btn-success">Send<i class="fas fa-paper-plane-o ml-1"></i></button>
                </div>
              </form>
            </div>
          </div>
        </div>

        

        <div class="modal fade" id="chng_nickname_modal" tabindex="-1" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header text-center">
                <h4 class="modal-title w-100 font-weight-bold">Change NickName   ;)</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <form action="{% url 'chng_usr_nickname' %}" method="post">
                <div id="csrf_wrapper_form_chng_image">
                  {% csrf_token %}
                </div>
                <div class="modal-body mx-3">
                  <div class="md-form mb-5">
                    <i class="fas fa-pencil prefix grey-text"></i>
                    <input type="text" id="form34" name="user_nickname" class="form-control validate" required>
                    <label data-error="wrong" data-success="right" for="form34">New Nickname</label>
                  </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                  <button class="btn btn-success">Send<i class="fas fa-paper-plane-o ml-1"></i></button>
                </div>
              </form>
            </div>
          </div>
        </div>



        <div class="modal fade" id="mkrvw_modal" tabindex="-1" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header text-center">
                <h4 class="modal-title w-100 font-weight-bold">Yoo! Review !!!</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <form action="{% url 'post_user_review' %}" method="post">
                <div id="csrf_wrapper_form_new_review">
                  {% csrf_token %}
                </div>
                <div class="modal-body mx-3">
                  <div class="md-form mb-5">
                    <i class="fa-solid fa-music"></i>
                    <input type="text" id="form34" name="album_author" class="form-control validate" required>
                    <label data-error="wrong" data-success="right" for="form34">Author</label>
                  </div>
          
                  <div class="md-form mb-5">
                    <i class="fa-solid fa-heading"></i>
                    <input type="text" id="form29" name="album_title" class="form-control validate" required>
                    <label data-error="wrong" data-success="right" for="form29">Title</label>
                  </div>
          
                  <div class="md-form mb-5">
                    <i class="fas fa-tag prefix grey-text"></i>
                    <input type="text" id="form32" name="review_header" class="form-control validate" required>
                    <label data-error="wrong" data-success="right" for="form32">Review Header</label>
                  </div>
          
                  <div class="md-form mb-5">
                    <i class="fas fa-pencil prefix grey-text"></i>
                    <textarea type="text" id="form8" name="review_text" class="md-textarea form-control" rows="4" required></textarea>
                    <label data-error="wrong" data-success="right" for="form8">Review Text</label>
                  </div>
                  
                  <div class="md-form">
                    <i class="fa-solid fa-image"></i>
                    <div class="alb_cov_wrapper text-center mt-2 mb-3"> 
                    <label for="album_cover" id="alb_cov_label" class="ActivityHigh">
                      <img src="{% static 'images/album-default-cover.png' %}" id="alb_cov" />
                    </label>
                    </div>
                    <input type="file" accept="image/png, image/gif, image/jpeg" onchange="load_file_chng_ava(event, 'alb_cov')" id="album_cover" name="album_cover" style="display:none" required>
                    <label data-error="wrong" data-success="right" for="alb_cov_label">Album Cover</label>
                  </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                  <button class="btn btn-success">Send <i class="fas fa-paper-plane-o ml-1"></i></button>
                </div>
              </form>
            </div>
          </div>
        </div>

      
      {% endblock profile_modal_parts %}

    {% endblock content %}
    
    {% block footer %}
        {{ block.super }}
    {% endblock footer %}

    {% block scripts %}
        {{ block.super }}

        <script>
          var load_file_chng_ava = function(event, id) {
            let image = document.getElementById(id)
            image.src = URL.createObjectURL(event.target.files[0]);
          }
        </script>

    {% endblock scripts %}


{% endblock body %}